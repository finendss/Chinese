local Translations = {
    ["SNT HUB"] = "SNTSaken",
    ["Forsaken"] = "FIN Team汉化",
    ["MAIN"] = "主菜单",
    ["INFO"] = "信息",
    ["SOCIALS"] = "社交",
    ["CHARACTER"] = "角色",
    ["GAME"] = "游戏",
    ["GAME INFO"] = "游戏信息",
    ["FPS"] = "帧率",
    ["Low performance"] = "性能较低",
    ["PING"] = "延迟",
    ["Good connection"] = "连接良好",
    ["FIN"] = "FIN",
    ["PLAYERS"] = "玩家",
    ["Currently in server"] = "当前在服务器中",
    ["Baseplate"] = "基础板",
    ["Current game"] = "当前游戏",
    ["CHANGELOGS"] = "更新日志",
    ["My TikTok"] = "我的TikTok",
    ["Please join to my TikTok account"] = "请关注我的TikTok账号",
    ["TikTok"] = "TikTok",
    ["Copy link on my TikTok"] = "复制我的TikTok链接",
    ["YouTube"] = "YouTube",
    ["Check out my YouTube channel"] = "查看我的YouTube频道",
    ["Copy link to my YouTube"] = "复制我的YouTube链接" ,
    ["Telegram"] = "Telegram",
    ["Join my Telegram channel"] = "加入我的Telegram频道",
    ["Copy link to my Telegram"] = "复制我的Telegram链接",
    ["Full guide"] = "完整指南",
    ["Noclip"] = "穿墙",
    ["Infinite Jump"] = "无限跳跃",
    ["Fly"] = "飞行",
    ["Smooth camera-aligned flight (PC, Mobile, Gamepad)"] = "平滑相机对齐飞行（电脑、移动设备、手柄）",
    ["Fly Speed"] = "飞行速度",
    ["Adjust flight speed"] = "调整飞行速度",
    ["Infinite Stamina"] = "无限耐力",
    ["Never get tired while sprinting"] = "冲刺时永不疲倦",
    ["Anti Stun"] = "防眩晕",
    ["Never get stunned"] = "永不被眩晕",
    ["Anti Slow"] = "防减速",
    ["Never get slowed"] = "永不被减速",
    ["ESP"] = "ESP",
    ["AIMBOT"] = "自瞄",
    ["SURVIVOR"] = "幸存者",
    ["KILLER"] = "杀手",
    ["SETTINGS"] = "设置",
    ["HIGHLIGHT ESP"] = "高亮ESP",
    ["Survivors Highlight"] = "幸存者高亮",
    ["Highlight survivors with green outline"] = "用绿色轮廓高亮幸存者",
    ["Killer Highlight"] = "杀手高亮",
    ["Highlight killer with red outline"] = "用红色轮廓高亮杀手",
    ["Items Highlight"] = "物品高亮",
    ["Highlight items with purple outline"] = "用紫色轮廓高亮物品",
    ["Changelogs"] = "更新日志",
    ["Fixed auto repair Generators"] = "修复了自动修理生成器",
    ["Fixed Kill All"] = "修复了杀死所有功能",
    ["Removed Autofarm Tab"] = "移除了自动农场标签页",
    ["New design"] = "新设计",
    ["New survivor tab functions: auto flip coin, auto fried chicken, auto block, auto clone, auto get items"] = "新的幸存者标签页功能：自动抛硬币、自动炸鸡、自动格挡、自动克隆、自动获取物品",
    ["New killer tab functions: killer aura, auto skills"] = "新的杀手标签页功能：杀手光环、自动技能",
    ["Fully fixed aimbot functions"] = "完全修复了自瞄功能",
    ["Optimized ESP functions"] = "优化了ESP功能",
    ["New anti stun, anti slow, infinite stamina functions"] = "新的防眩晕、防减速、无限耐力功能",
    ["Configurations"] = "配置",
    ["Rewrited all code"] = "重写了所有代码"
}

local function translateText(text)
    if not text or type(text) ~= "string" then return text end
    
    if Translations[text] then
        return Translations[text]
    end
    
    for en, cn in pairs(Translations) do
        if text:find(en) then
            return text:gsub(en, cn)
        end
    end
    
    return text
end

local function setupTranslationEngine()
    local success, err = pcall(function()
        local oldIndex = getrawmetatable(game).__newindex
        setreadonly(getrawmetatable(game), false)
        
        getrawmetatable(game).__newindex = newcclosure(function(t, k, v)
            if (t:IsA("TextLabel") or t:IsA("TextButton") or t:IsA("TextBox")) and k == "Text" then
                v = translateText(tostring(v))
            end
            return oldIndex(t, k, v)
        end)
        
        setreadonly(getrawmetatable(game), true)
    end)
    
    if not success then
        warn("元表劫持失败:", err)
       
        local translated = {}
        local function scanAndTranslate()
            for _, gui in ipairs(game:GetService("CoreGui"):GetDescendants()) do
                if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                    pcall(function()
                        local text = gui.Text
                        if text and text ~= "" then
                            local translatedText = translateText(text)
                            if translatedText ~= text then
                                gui.Text = translatedText
                                translated[gui] = true
                            end
                        end
                    end)
                end
            end
            
            local player = game:GetService("Players").LocalPlayer
            if player and player:FindFirstChild("PlayerGui") then
                for _, gui in ipairs(player.PlayerGui:GetDescendants()) do
                    if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                        pcall(function()
                            local text = gui.Text
                            if text and text ~= "" then
                                local translatedText = translateText(text)
                                if translatedText ~= text then
                                    gui.Text = translatedText
                                    translated[gui] = true
                                end
                            end
                        end)
                    end
                end
            end
        end
        
        local function setupDescendantListener(parent)
            parent.DescendantAdded:Connect(function(descendant)
                if descendant:IsA("TextLabel") or descendant:IsA("TextButton") or descendant:IsA("TextBox") then
                    task.wait(0.1)
                    pcall(function()
                        local text = descendant.Text
                        if text and text ~= "" then
                            local translatedText = translateText(text)
                            if translatedText ~= text then
                                descendant.Text = translatedText
                            end
                        end
                    end)
                end
            end)
        end
        
        pcall(setupDescendantListener, game:GetService("CoreGui"))
        local player = game:GetService("Players").LocalPlayer
        if player and player:FindFirstChild("PlayerGui") then
            pcall(setupDescendantListener, player.PlayerGui)
        end
        
        while true do
            scanAndTranslate()
            task.wait(3)
        end
    end
end

task.wait(2)

setupTranslationEngine()

local success, err = pcall(function()
--这下面填加载外部脚本
loadstring(game:HttpGet("https://raw.githubusercontent.com/Snowt69/SNT-HUB/refs/heads/main/Forsaken"))()


end)

if not success then
    warn("加载失败:", err)
end
